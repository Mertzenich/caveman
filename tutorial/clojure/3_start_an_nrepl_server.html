<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body style="max-width: 800px">
    <section>
      <a href="/"><img src="/caveman.jpg" width="100px" /></a>
    </section>

    <h1>Start an nREPL Server</h1>
    <sub><span><a href="https://github.com/bowbahdoe/caveman/tree/main/examples/clojure/3_start_an_nrepl_server">(finished code)</a></span>
    </sub>
    <p>One of the biggest selling points of Clojure as a language is interactive development.
    To partake in that you need what we call a "REPL." This lets you write code in one tab
    of your editor and test it out live in another.</p>
    <p>Enough digital ink has been spilled on that subject that I am going to forgo a full
    guide on that process for the moment.</p>
    <ul>
      <li>
        <h2>
          Add an alias to your <code>deps.edn</code> for <code>nREPL</code>
        </h2>
        <code>
          <pre>
{...
 :aliases {:nREPL
            {:extra-deps
              {nrepl/nrepl {:mvn/version "1.2.0"}}}}}
           </pre
          >
        </code>

          <code>nREPL</code> lets you connect to a running Clojure program "remotely."
          This can mean over the internet, but for local development its just your machine.
      </li>

      <li>
        <h2>
          Add a recipe to your <code>Justfile</code> for running
          <code>nREPL</code>.
        </h2>
        <p>
          Use <code>clojure -M:nREPL -m nrepl.cmdline</code> as the command. The
          <code>-M:nREPL</code> activates the alias and
          <code>-m nrepl.cmdline</code> launches the <code>nREPL</code>.
        </p>
        <code>
          <pre>
help:
    just --list

run:
    clojure -M -m main

nrepl:
    clojure -M:nREPL -m nrepl.cmdline</pre
          >
        </code>
      </li>

      <li>
        <h2>Connect to <code>nREPL</code> from your editor.</h2>
        <p>
          The instructions for this vary based on your editor. For the Clojure
          VSCode plugin, the documentation is
          <a href="https://calva.io/connect/">HERE</a>. For IntelliJ it is
          <a href="https://cursive-ide.com/userguide/repl.html">HERE</a>.
        </p>
        <p>
          Your editor likely also has a way to start its own
          <code>nREPL</code> server. Feel free to use that if you like. The
          important thing is that you are able to load code into a REPL as you
          are making your program.
        </p>
      </li>
    </ul>

    <section>
      <div>
        <h1>
          <a href="/tutorial/clojure/4_move_your_http_handler.html"
            >&rarr; Move your HTTP Handler to its own Namespace</a
          >
        </h1>
        <h1>
          <a href="/tutorial/clojure/2_make_an_http_server.html"
            >&larr; Make an HTTP Server</a
          >
        </h1>
      </div>
    </section>
  </body>
</html>
